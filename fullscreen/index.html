<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Mongabay Conservation Evidence</title>

<head>
	
  <!-- fonts/ -->
  <link href="https://fonts.googleapis.com/css?family=Lato:700" rel="stylesheet">

  <style>
    body {margin:0; padding:0;}
    h1, h2, h3, h4, h5 {font-family: 'Lato'; color: #555; margin: 20px 15px 10px 20px; text-align:center;}
    h3 { color: #666; }
    h5 a { color:#45aae8; text-decoration: none;}
    h5 a:hover {color: #014c8c;
    text-decoration: underline;}
  </style>

</head>
<body>
	
  <!-- set dynamically, see below -->
	<h1 id='title'></h1>
	<h3 id='subtitle'></h3>

  <!-- href to full article set at runtime, see below -->
  <h5 style="text-transform: uppercase; color:#888;">Read the full article on <a id="article-link" href="" target="_blank">Mongabay.com</a>&nbsp;</h5>


	<!-- ================== the iframe to the viz itself: src will be updated below on load  ==================== -->
  <iframe src="" width="100%" id="consevidence" frameBorder="0" scrolling="no"></iframe>


  <!-- ================== iframe resizing (https://github.com/davidjbradshaw/iframe-resizer) ==================== -->
	 
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/3.5.14/iframeResizer.min.js"></script>
	<script>
		iFrameResize({log:false, heightCalculationMethod:"taggedElement"}, '#consevidence')
	</script>


  <!-- config file -->
  <script type="text/javascript" src="../config.js"></script>

	<!-- ===================== script to update src in the iframe depending on selected strategy =========================== -->

  <script>
    // check URL for a query param representing a path to data
    // fallback is to use the data in data/ which represents a copy of same in fsc/ 
    var strategies = ['fsc','pes'];
    var strategy = window.location.href.split('?')[1];
    // if we get an invalide param, force it to show FSC: we need a valid key to show certain things, like the description
    if ( (strategies.indexOf(strategy) < 0) || typeof strategy === 'undefined' ) strategy = 'fsc'; 

    // now set frame src
    var frame = document.getElementById("consevidence").src = '../index.html?' + strategy;

    // and set title, subtitle
    document.getElementById("title").innerText = fullscreentitle[strategy];
    document.getElementById("subtitle").innerText = fullscreensubtitle[strategy];

    // set the proper URL back to the full article:
    document.getElementById("article-link").href = articlelink[strategy];

  </script>


</body></html>